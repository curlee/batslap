"use strict";var Batslap=function(){function n(){function n(n){f=n}function e(n){return n?n.replace(/\*\*(.+)\*\*/,"<strong>$1</strong>").replace(/\*(.+)\*/,"<em>$1</em>"):void 0}function t(n,e,t){var a=document.createElement("span");n&&(a.innerHTML=n),u[t]||(u[t]={}),u[t][e]=a;var o=document.createElement("p");return o.className=e,o.appendChild(a),o}function a(n,a,o,r){var i=document.createElement("span"),l=["wordballoon","wordballoon-"+a];o||l.push("hide"),d[r]||(d[r]={}),i.className=l.join(" "),d[r][a]=i,n.appendChild(i),n.appendChild(t(e(o),a,r))}function o(n,e){var t,o,r=["rbn","bmn"];for(o=0;o<r.length;o++)t=r[o],a(n,t,n.dataset[t],e)}function r(n,e,t){var a=d[n][e].className.split(" ");for(c=0;c<a.length;c++)"hide"===a[c]&&(t?t=!1:a[c]=void 0);t&&a.push("hide"),-1===f.indexOf(n)&&(d[n][e].className=a.join(" "))}function i(n,e,t,a){r(t,e,a),n||(n=""),-1===f.indexOf(t)&&(u[t][e].innerHTML=n)}function l(n,t,a){var o;n=e(n);var r=n?!1:!0;if(a===!1||void 0===a||null===a)for(o=0;o<u.length;o++)i(n,t,o,r);else i(n,t,a,r)}var c,s=document.getElementsByClassName("batslap"),u=[],d=[],f=[];for(c=0;c<s.length;c++)o(s[c],c);return{rtalk:function(n,e){console.log(n,e),l(n,"rbn",e)},btalk:function(n,e){l(n,"bmn",e)},skipIndices:function(e){n(e)}}}var e;return{getInstance:function(){return e||(e=n()),e}}}();window.Batslap=Batslap.getInstance();